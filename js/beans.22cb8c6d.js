(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["beans"],{"1eb7":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("b0c0");var r=a("d4ec"),i=function e(){Object(r["a"])(this,e),this.id="",this.name="",this.roaster="",this.varietal="",this.process="",this.originCountry="",this.originRegion="",this.story="",this.tastingNotes=[],this.imageUrl="",this.beanTypes=[]}},"36fb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs-items",{attrs:{touchless:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{key:"bean",attrs:{value:"bean"}},[a("v-skeleton-loader",{attrs:{loading:e.loading,type:"image"}},[a("v-img",{attrs:{src:e.bean.imageUrl,"aspect-ratio":"1"}})],1),a("v-skeleton-loader",{attrs:{loading:e.loading,type:"list-item-two-line"}},[a("v-list-item",{staticClass:"mt-2 mb-2"},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[e._v(e._s(e.bean.name))]),a("v-list-item-subtitle",[e._v(e._s(e.bean.roaster))])],1),a("v-btn",{attrs:{icon:""},on:{click:function(){return e.goToCreateBrew(e.bean.id)}}},[a("v-icon",[e._v("mdi-coffee")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(){return e.goToEditBean(e.bean.id)}}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(){return e.onBeanLikeToggle()}}},[a("v-icon",[e._v(e._s(e.isBeanLiked?"mdi-heart":"mdi-heart-outline"))])],1)],1)],1),a("v-skeleton-loader",{attrs:{loading:e.loading,type:"list-item-two-line"}},[e.bean.tastingNotes?a("v-card-text",{staticClass:"mt-0 pt-0"},e._l(e.beanTastingNotes,(function(t){return a("v-chip",{key:t,staticClass:"mr-2 mb-2",attrs:{color:e.getFlavorColor(t).color}},[e._v(" "+e._s(e.getFlavorColor(t).emoji)+" "+e._s(t)+" ")])})),1):a("div")],1),e.bean.story.length>0?a("v-divider"):e._e(),e.bean.story.length>0?a("v-card-text",[a("v-skeleton-loader",{attrs:{loading:e.loading,type:"paragraph"}},[a("p",[e._v(e._s(e.bean.story))])])],1):e._e(),a("v-divider"),a("v-card-text",[a("v-skeleton-loader",{staticClass:"bean-details",attrs:{loading:e.loading,type:"paragraph"}},[a("v-list-item",[a("v-list-item-title",[e._v("Country")]),a("v-list-item-subtitle",[e._v(e._s(e.bean.originCountry))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Region")]),a("v-list-item-subtitle",[e._v(e._s(e.bean.originRegion))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Varietal")]),a("v-list-item-subtitle",[e._v(e._s(e.bean.varietal))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Process")]),a("v-list-item-subtitle",[e._v(e._s(e.bean.process))])],1)],1)],1)],1),a("v-tab-item",{key:"brews",attrs:{value:"brews"}},[a("v-list",[e._l(e.brews,(function(t){return[a("swipeable-list-item",{key:"brew-"+t.id,attrs:{id:"brew-"+t.id},scopedSlots:e._u([{key:"edit-item",fn:function(){return[a("v-divider"),a("v-row",[a("v-spacer",[a("v-list-item",[a("v-spacer"),a("v-btn",{attrs:{depressed:""},on:{click:function(){return e.goToCreateBrew(e.bean.id,{brewId:t.id,action:"copy"})}}},[a("v-icon",[e._v(" mdi-coffee ")]),a("span",[e._v("Copy Recipe")])],1),a("v-spacer"),a("v-btn",{attrs:{depressed:""}},[a("v-icon",[e._v(" mdi-delete ")]),a("span",[e._v("Delete")])],1),a("v-spacer")],1)],1)],1)]},proxy:!0},{key:"view-item",fn:function(){return[a("v-divider"),a("v-list-item",{on:{click:function(){return e.goToCreateBrew(e.bean.id,{brewId:t.id,action:"edit"})}}},[a("v-col",[a("v-list-item-title",[e._v(" "+e._s(e.formatDateTime(t.brewDateTime))+" ")]),a("v-list-item",{staticClass:"px-0 mx-0 brew-parameters-row"},[a("v-icon",{attrs:{disabled:"",size:"16"}},[e._v(" mdi-scale ")]),a("v-subheader",{staticClass:"brew-setting-subheader"},[e._v(" "+e._s(t.grindWeight)+" g ")]),a("v-spacer"),a("v-icon",{attrs:{disabled:"",size:"16"}},[e._v(" mdi-water ")]),a("v-subheader",{staticClass:"brew-setting-subheader"},[e._v(" "+e._s(t.waterVolume)+" mL ")]),a("v-spacer"),a("v-icon",{attrs:{disabled:"",size:"16"}},[e._v(" mdi-grain ")]),a("v-subheader",{staticClass:"brew-setting-subheader"},[e._v(" "+e._s(t.grindSetting)+" clicks ")]),a("v-spacer"),a("v-icon",{attrs:{disabled:"",size:"16"}},[e._v(" mdi-clock ")]),a("v-subheader",{staticClass:"brew-setting-subheader"},[e._v(" "+e._s(e.formatBrewTime(t.brewTimeMilliseconds))+" ")])],1),a("v-list-item",{staticClass:"mt-0 pt-0 ml-0 pl-0 pb-0 mb-0"},[a("span",{staticClass:"grey--text text--lighten-2 caption mr-2"},[e._v(" ("+e._s(t.tasting.tastiness.quantity)+") ")]),a("v-rating",{attrs:{color:"gray","background-color":"gray",small:"",dense:"",readonly:""},model:{value:t.tasting.tastiness.quantity,callback:function(a){e.$set(t.tasting.tastiness,"quantity",a)},expression:"brew.tasting.tastiness.quantity"}})],1)],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1)},i=[],n=(a("99af"),a("c975"),a("d81d"),a("b0c0"),a("ac1f"),a("5319"),a("1276"),a("498a"),a("96cf"),a("1da1")),s=a("5530"),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),d=a("9ab4"),b=a("2b0e"),v=a("2fe1"),p=a("4bb5"),h=a("1eb7"),m=a("564c"),f=a("44ec"),g={"Red Wine":{color:"#8F1B53",emoji:"🍷"},Cherry:{color:"#E73451",emoji:"🍒"},"Black Tea":{color:"#975E6D",emoji:"☕"},Pineapple:{color:"#F89A1C",emoji:"🍍"},Rose:{color:"#EF5A78",emoji:"🌹"},Vanilla:{color:"#F89A80",emoji:"🍨"},Strawberry:{color:"#EF2D36",emoji:"🍓"},Peach:{color:"#F68A5C",emoji:"🍑"},Blackberry:{color:"#3E0317",emoji:""},Jasmine:{color:"#F7F1BD",emoji:""},"Green Tea":{color:"#7AC141",emoji:"🍵"},Chocolate:{color:"#692A19",emoji:"🍫"},"Dark Chocolate":{color:"#470603",emoji:"🍫"},Lime:{color:"#7EB138",emoji:""},Raspberry:{color:"#E52968",emoji:""},Watermelon:{color:"",emoji:"🍉"},Coconut:{color:"#D07C36",emoji:"🥥"}},y=g,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("swiper",{ref:"mySwiper",attrs:{options:e.swiperOptions}},[a("swiper-slide",[e._t("view-item")],2),a("swiper-slide",[e._t("edit-item")],2)],1)},w=[],k=a("7212"),j=(a("a7a3"),{name:"carrousel",components:{Swiper:k["Swiper"],SwiperSlide:k["SwiperSlide"]},directives:{swiper:k["directive"]},data:function(){return{swiperOptions:{pagination:{el:".swiper-pagination"}}}},computed:{swiper:function(){return this.$refs.mySwiper.$swiper}}}),B=j,T=a("2877"),O=Object(T["a"])(B,_,w,!1,null,null,null),S=O.exports,x=a("0613"),C=a("dbf0"),F=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.bean=new h["a"],e.beanUserMetadata=new m["a"]("",""),e.brews={},e.tab="bean",e.window=0,e}return Object(c["a"])(a,[{key:"goToCreateBrew",value:function(e,t){this.$router.push({name:"CreateBrew",query:{beanId:e,brewId:null===t||void 0===t?void 0:t.brewId,action:null===t||void 0===t?void 0:t.action}})}},{key:"goToEditBean",value:function(e){this.$router.push({name:"CreateBeans",query:{beanId:e}})}},{key:"goToBeanTab",value:function(){this.tab="bean",this.$router.replace({name:"Bean",params:this.$route.params,query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{tab:"bean"})})}},{key:"goToBrewsTab",value:function(){this.tab="brews",this.$router.replace({name:"Bean",params:this.$route.params,query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{tab:"brews"})})}},{key:"formatDateTime",value:function(e){var t=new Date(e);return"".concat(t.toDateString()," @ ").concat(t.toLocaleTimeString())}},{key:"formatBrewTime",value:function(e){return Object(f["a"])(e,!1)}},{key:"getFlavorColor",value:function(e){return e in y?y[e]:{color:"",emoji:""}}},{key:"mounted",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return x["b"].commit("SET_TITLE","Bean Details"),t=this.$route.params.beanId,a=this.$route.query.tab,e.next=5,this.getBeanById(t);case 5:return r=e.sent,a&&(this.tab=a),this.setTopNavigation([new C["a"]("Bean","bean","mdi-seed",this.goToBeanTab),new C["a"]("Brews","brews","mdi-coffee",this.goToBrewsTab)]),r&&(this.bean=r,x["b"].commit("SET_TITLE",this.bean.name)),e.next=11,this.getBrewsByBeanId(t);case 11:return this.brews=e.sent,e.next=14,this.getBeanUserMetadata(t);case 14:this.beanUserMetadata=e.sent;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onBeanLikeToggle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.beanUserMetadata.isLiked=!this.beanUserMetadata.isLiked,e.next=3,this.createOrUpdateBeanUserMetadata(this.beanUserMetadata);case 3:this.beanUserMetadata.id=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isBeanLiked",get:function(){var e;return null===(e=this.beanUserMetadata)||void 0===e?void 0:e.isLiked}},{key:"beanTastingNotes",get:function(){return 1===this.bean.tastingNotes.length&&this.bean.tastingNotes[0].indexOf(",")>-1?this.bean.tastingNotes[0].split(",").map((function(e){return e.trim()})):this.bean.tastingNotes}},{key:"loading",get:function(){return""===this.bean.name}}]),a}(b["default"]);Object(d["__decorate"])([p["a"]],F.prototype,"getBeanById",void 0),Object(d["__decorate"])([p["a"]],F.prototype,"getBrewsByBeanId",void 0),Object(d["__decorate"])([p["a"]],F.prototype,"getBeanUserMetadata",void 0),Object(d["__decorate"])([p["a"]],F.prototype,"createOrUpdateBeanUserMetadata",void 0),Object(d["__decorate"])([Object(p["b"])("SET_TOP_NAVIGATION")],F.prototype,"setTopNavigation",void 0),F=Object(d["__decorate"])([Object(v["b"])({components:{"swipeable-list-item":S}})],F);var L=F,E=L,N=(a("a978"),Object(T["a"])(E,r,i,!1,null,"244171a8",null));t["default"]=N.exports},"44ec":function(e,t,a){"use strict";a("99af");function r(e,t){return e.toLocaleString("en-US",{minimumIntegerDigits:t,useGrouping:!1})}var i=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e%1e3/10,i=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),s="".concat(r(n,2),":").concat(r(i,2));return t&&(s="".concat(s,".").concat(r(a,2))),s};t["a"]=i},"4fad":function(e,t,a){var r=a("23e7"),i=a("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"6ee1":function(e,t,a){},"6f53":function(e,t,a){var r=a("83ab"),i=a("df75"),n=a("fc6a"),s=a("d1e7").f,o=function(e){return function(t){var a,o=n(t),c=i(o),l=c.length,u=0,d=[];while(l>u)a=c[u++],r&&!s.call(o,a)||d.push(e?[a,o[a]]:o[a]);return d}};e.exports={entries:o(!0),values:o(!1)}},"99af":function(e,t,a){"use strict";var r=a("23e7"),i=a("d039"),n=a("e8b5"),s=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),b=a("b622"),v=a("2d00"),p=b("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",f=v>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},_=!f||!g;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,a,r,i,n,s=o(this),d=u(s,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?s:arguments[t],y(n)){if(i=c(n.length),b+i>h)throw TypeError(m);for(a=0;a<i;a++,b++)a in n&&l(d,b,n[a])}else{if(b>=h)throw TypeError(m);l(d,b++,n)}return d.length=b,d}})},a978:function(e,t,a){"use strict";var r=a("6ee1"),i=a.n(r);i.a},d3db:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"px-0 pt-0 pb-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.appSearchText,expression:"appSearchText"}],attrs:{hidden:""},domProps:{value:e.appSearchText},on:{formchange:function(){return e.updateBeanSearchFilter()},input:function(t){t.target.composing||(e.appSearchText=t.target.value)}}}),e.isInSearchMode?a("div",{staticClass:"pt-3 pl-3 pr-3 pb-3"},[a("v-combobox",{attrs:{items:e.roasterNames,placeholder:"Filter by Roaster",outlined:"","persistent-hint":"",clearable:""},on:{change:function(){return e.updateBeanSearchFilter()}},model:{value:e.roasterFilter,callback:function(t){e.roasterFilter=t},expression:"roasterFilter"}}),a("v-chip",{attrs:{pill:"",outlined:!e.filterByLiked},on:{click:e.toggleFilterByLiked}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.filterByLiked?"mdi-heart":"mdi-heart-outline"))]),e._v(" Liked ")],1)],1):e._e(),a("v-skeleton-loader",{attrs:{type:"bean@4",tile:"",types:{bean:"article"},loading:e.loading}},[a("div"),a("beans-list",{attrs:{beans:e.beans},on:{"bean-clicked":e.goToBeanDetails}}),e.beansResultsExhausted?e._e():a("v-row",{directives:[{name:"intersect",rawName:"v-intersect",value:e.onBottomReached,expression:"onBottomReached"}],staticClass:"pa-3",attrs:{justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1)],1)],1)},i=[],n=(a("d81d"),a("b0c0"),a("4fad"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("5530")),s=(a("96cf"),a("1da1")),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),d=a("9ab4"),b=a("2b0e"),v=a("60a3"),p=a("4bb5"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.beans,(function(t){return a("div",{key:t.id},[a("v-row",{attrs:{dense:""}},[a("v-list-item",{attrs:{"four-line":""},on:{click:function(){return e.beanClicked(t.id)}}},[a("v-list-item-avatar",{attrs:{tile:"",size:"84"}},[a("v-img",{attrs:{src:t.imageUrl,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1),a("v-list-item-content",[a("div",{staticClass:"overline"},[e._v(e._s(t.roaster))]),a("v-list-item-title",[e._v(e._s(t.name))]),a("v-list-item-subtitle",[e._v(" "+e._s(t.originCountry)+" ")])],1)],1)],1),a("v-divider")],1)})),0)},m=[],f=a("2fe1"),g=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(c["a"])(a,[{key:"beanClicked",value:function(e){this.$emit("bean-clicked",e)}}]),a}(b["default"]);Object(d["__decorate"])([Object(v["b"])()],g.prototype,"beans",void 0),g=Object(d["__decorate"])([f["b"]],g);var y=g,_=y,w=a("2877"),k=Object(w["a"])(_,h,m,!1,null,null,null),j=k.exports,B=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.beansLoadingInProgress=!1,e.roasterFilter="",e.filterByLiked=!1,e.beanTypes=[],e}return Object(c["a"])(a,[{key:"mounted",value:function(){this.setTitle("Beans"),this.setTopNavigation([])}},{key:"created",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.roaster,r=t.filterByLiked,i=t.beanTypes,a&&(this.roasterFilter=a,this.updateBeanSearchFilter()),r&&(this.filterByLiked="true"===r,this.updateBeanSearchFilter()),(null===i||void 0===i?void 0:i.length)>0&&(Array.isArray(i)?this.beanTypes=i:this.beanTypes=[i],this.updateBeanSearchFilter()),e.next=6,this.getBeans();case 6:return e.next=8,this.getRoasters();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goToBeanDetails",value:function(e){this.$router.push({name:"Bean",params:{beanId:e}})}},{key:"updateBeanSearchFilter",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.beanSearchFilter.beanName=this.appSearchText,this.beanSearchFilter.roasterName=this.roasterFilter,this.beanSearchFilter.filterByLiked=this.filterByLiked,this.beanSearchFilter.beanTypes=this.beanTypes,t=Object(n["a"])(Object(n["a"])({},this.$route.query),{},{roasterName:this.beanSearchFilter.roasterName,filterByLiked:this.beanSearchFilter.filterByLiked.toString()}),""!==this.beanSearchFilter.roasterName&&void 0!==this.beanSearchFilter.roasterName||delete t.roasterName,this.beanSearchFilter.filterByLiked||delete t.filterByLiked,this.beanTypes||delete t.beanTypes,this.$router.replace({name:"Beans",query:t}),e.next=11,this.setBeanSearchFilter(this.beanSearchFilter);case 11:return e.next=13,this.getBeans();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onBottomReached",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.beansLoadingInProgress){e.next=5;break}return this.beansLoadingInProgress=!0,e.next=4,this.getBeans();case 4:this.beansLoadingInProgress=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toggleFilterByLiked",value:function(){this.filterByLiked=!this.filterByLiked,this.updateBeanSearchFilter()}},{key:"roasterNames",get:function(){return this.roasters.map((function(e){return e.name})).sort()}},{key:"loading",get:function(){return 0===Object.entries(this.beans).length}}]),a}(b["default"]);Object(d["__decorate"])([p["c"]],B.prototype,"beans",void 0),Object(d["__decorate"])([p["c"]],B.prototype,"roasters",void 0),Object(d["__decorate"])([p["c"]],B.prototype,"appSearchText",void 0),Object(d["__decorate"])([p["c"]],B.prototype,"beansResultsExhausted",void 0),Object(d["__decorate"])([p["c"]],B.prototype,"beanSearchFilter",void 0),Object(d["__decorate"])([p["c"]],B.prototype,"isInSearchMode",void 0),Object(d["__decorate"])([p["a"]],B.prototype,"getBeans",void 0),Object(d["__decorate"])([p["a"]],B.prototype,"getRoasters",void 0),Object(d["__decorate"])([Object(p["b"])("SET_TITLE")],B.prototype,"setTitle",void 0),Object(d["__decorate"])([Object(p["b"])("SET_TOP_NAVIGATION")],B.prototype,"setTopNavigation",void 0),Object(d["__decorate"])([Object(p["b"])("SET_BEAN_SEARCH_FILTER")],B.prototype,"setBeanSearchFilter",void 0),Object(d["__decorate"])([Object(v["d"])("appSearchText",{immediate:!1,deep:!1})],B.prototype,"updateBeanSearchFilter",null),B=Object(d["__decorate"])([Object(v["a"])({components:{"beans-list":j}})],B);var T=B,O=T,S=Object(w["a"])(O,r,i,!1,null,null,null);t["default"]=S.exports}}]);